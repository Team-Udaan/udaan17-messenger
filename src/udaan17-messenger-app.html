<dom-module id="udaan17-messenger-app">
  <template>

    <style>
      :host {
        display: block;
      }

      app-toolbar {
        @apply(--toolbar);
      }

    </style>

    <app-header>
      <app-toolbar main-title>Messenger</app-toolbar>
    </app-header>

    <app-location route="{{route}}" use-hash-as-path></app-location>

    <app-route route="{{route}}" pattern="/login" active="{{loginActive}}"></app-route>
    <app-route route="{{route}}" pattern="/dashboard" active="{{dashboardActive}}"></app-route>
    <app-route route="{{route}}" pattern="/status" active="{{statusActive}}"></app-route>

    <template is="dom-if" restamp if="{{loginActive}}">
      <app-login config="{{config}}"></app-login>
    </template>

    <template is="dom-if" restamp if="{{dashboardActive}}">
      <current-round config={{config}}></current-round>
    </template>

    <template is="dom-if" restamp if="{{statusActive}}">
      <message-report config="{{config}}"></message-report>
    </template>

  </template>

  <script>
    Polymer({

      is: 'udaan17-messenger-app',

      properties: {
        config: {
          type: Object,
          value: function () {
            return {
              'urls': {
                'login': baseUrl + '/login',
                'dashboard': baseUrl + '/dashboard',
                'status': baseUrl + '/status'
              },
              'credentials': {
                'email': '',
                'password': ''
              }
            }
          }
        }
      },

      attached: function () {
        this.set('route.path', '/login')
      }

    });
  </script>
</dom-module>
